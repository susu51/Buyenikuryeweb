{"dependencies":[{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":16,"index":172},"end":{"line":5,"column":32,"index":188}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"./ModalsRenderer","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":25,"index":215},"end":{"line":6,"column":52,"index":242}}],"key":"GOmK+FeZn8l9z00qHpZEIAM+J2M=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n  'use client';\n\n  var _reactJsxDevRuntime = require(_dependencyMap[0], \"react/jsx-dev-runtime\");\n  var _jsxFileName = \"/app/frontend/node_modules/expo-router/build/modal/ModalContext.js\";\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useModalContext = exports.ModalContextProvider = void 0;\n  const react_1 = require(_dependencyMap[1], \"react\");\n  const ModalsRenderer_1 = require(_dependencyMap[2], \"./ModalsRenderer\");\n  const ALLOWED_EVENT_TYPE_LISTENERS = ['close', 'show'];\n  const ModalContext = (0, react_1.createContext)(undefined);\n  const ModalContextProvider = ({\n    children\n  }) => {\n    const [modalConfigs, setModalConfigs] = (0, react_1.useState)([]);\n    const eventListeners = (0, react_1.useRef)({\n      close: new Set(),\n      show: new Set()\n    });\n    const prevModalConfigs = (0, react_1.useRef)([]);\n    (0, react_1.useEffect)(() => {\n      if (prevModalConfigs.current !== modalConfigs) {\n        prevModalConfigs.current.forEach(config => {\n          if (!modalConfigs.find(c => c.uniqueId === config.uniqueId)) {\n            emitCloseEvent(config.uniqueId);\n          }\n        });\n        prevModalConfigs.current = modalConfigs;\n      }\n    }, [modalConfigs]);\n    const openModal = (0, react_1.useCallback)(config => {\n      setModalConfigs(prev => [...prev, config]);\n    }, []);\n    const updateModal = (0, react_1.useCallback)((id, config) => {\n      setModalConfigs(prev => {\n        const index = prev.findIndex(c => c.uniqueId === id);\n        if (index >= 0) {\n          const updatedConfigs = [...prev];\n          updatedConfigs[index] = Object.assign({}, updatedConfigs[index], config);\n          return updatedConfigs;\n        }\n        return prev;\n      });\n    }, []);\n    const emitCloseEvent = (0, react_1.useCallback)(id => {\n      eventListeners.current.close.forEach(callback => callback(id));\n    }, []);\n    const emitShowEvent = (0, react_1.useCallback)(id => {\n      eventListeners.current.show.forEach(callback => callback(id));\n    }, []);\n    const closeModal = (0, react_1.useCallback)(id => {\n      setModalConfigs(prev => {\n        const modalIndex = prev.findIndex(config => config.uniqueId === id);\n        if (modalIndex >= 0) {\n          return prev.filter((_, index) => index < modalIndex);\n        }\n        return prev;\n      });\n    }, []);\n    const addEventListener = (0, react_1.useCallback)((type, callback) => {\n      if (!ALLOWED_EVENT_TYPE_LISTENERS.includes(type)) return () => {};\n      if (!callback) {\n        console.warn('Passing undefined as a callback to addEventListener is forbidden');\n        return () => {};\n      }\n      eventListeners.current[type].add(callback);\n      return () => {\n        eventListeners.current[type].delete(callback);\n      };\n    }, []);\n    return /*#__PURE__*/_reactJsxDevRuntime.jsxDEV(ModalContext.Provider, {\n      value: {\n        modalConfigs,\n        openModal,\n        closeModal,\n        updateModal,\n        addEventListener\n      },\n      children: /*#__PURE__*/_reactJsxDevRuntime.jsxDEV(ModalsRenderer_1.ModalsRenderer, {\n        modalConfigs: modalConfigs,\n        onDismissed: id => {\n          closeModal(id);\n        },\n        onShow: emitShowEvent,\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  };\n  exports.ModalContextProvider = ModalContextProvider;\n  const useModalContext = () => {\n    const context = (0, react_1.use)(ModalContext);\n    if (!context) {\n      throw new Error('useModalContext must be used within a ModalContextProvider');\n    }\n    return context;\n  };\n  exports.useModalContext = useModalContext;\n});","lineCount":109,"map":[[2,2,1,0],[2,14,1,12],[3,2,2,0],[3,14,2,12],[5,2,2,13],[5,6,2,13,"_reactJsxDevRuntime"],[5,25,2,13],[5,28,2,13,"require"],[5,35,2,13],[5,36,2,13,"_dependencyMap"],[5,50,2,13],[6,2,2,13],[6,6,2,13,"_jsxFileName"],[6,18,2,13],[7,2,3,0,"Object"],[7,8,3,6],[7,9,3,7,"defineProperty"],[7,23,3,21],[7,24,3,22,"exports"],[7,31,3,29],[7,33,3,31],[7,45,3,43],[7,47,3,45],[8,4,3,47,"value"],[8,9,3,52],[8,11,3,54],[9,2,3,59],[9,3,3,60],[9,4,3,61],[10,2,4,0,"exports"],[10,9,4,7],[10,10,4,8,"useModalContext"],[10,25,4,23],[10,28,4,26,"exports"],[10,35,4,33],[10,36,4,34,"ModalContextProvider"],[10,56,4,54],[10,59,4,57],[10,64,4,62],[10,65,4,63],[11,2,5,0],[11,8,5,6,"react_1"],[11,15,5,13],[11,18,5,16,"require"],[11,25,5,23],[11,26,5,23,"_dependencyMap"],[11,40,5,23],[11,52,5,31],[11,53,5,32],[12,2,6,0],[12,8,6,6,"ModalsRenderer_1"],[12,24,6,22],[12,27,6,25,"require"],[12,34,6,32],[12,35,6,32,"_dependencyMap"],[12,49,6,32],[12,72,6,51],[12,73,6,52],[13,2,7,0],[13,8,7,6,"ALLOWED_EVENT_TYPE_LISTENERS"],[13,36,7,34],[13,39,7,37],[13,40,7,38],[13,47,7,45],[13,49,7,47],[13,55,7,53],[13,56,7,54],[14,2,8,0],[14,8,8,6,"ModalContext"],[14,20,8,18],[14,23,8,21],[14,24,8,22],[14,25,8,23],[14,27,8,25,"react_1"],[14,34,8,32],[14,35,8,33,"createContext"],[14,48,8,46],[14,50,8,48,"undefined"],[14,59,8,57],[14,60,8,58],[15,2,9,0],[15,8,9,6,"ModalContextProvider"],[15,28,9,26],[15,31,9,29,"ModalContextProvider"],[15,32,9,30],[16,4,9,32,"children"],[17,2,9,41],[17,3,9,42],[17,8,9,47],[18,4,10,4],[18,10,10,10],[18,11,10,11,"modalConfigs"],[18,23,10,23],[18,25,10,25,"setModalConfigs"],[18,40,10,40],[18,41,10,41],[18,44,10,44],[18,45,10,45],[18,46,10,46],[18,48,10,48,"react_1"],[18,55,10,55],[18,56,10,56,"useState"],[18,64,10,64],[18,66,10,66],[18,68,10,68],[18,69,10,69],[19,4,11,4],[19,10,11,10,"eventListeners"],[19,24,11,24],[19,27,11,27],[19,28,11,28],[19,29,11,29],[19,31,11,31,"react_1"],[19,38,11,38],[19,39,11,39,"useRef"],[19,45,11,45],[19,47,11,47],[20,6,12,8,"close"],[20,11,12,13],[20,13,12,15],[20,17,12,19,"Set"],[20,20,12,22],[20,21,12,23],[20,22,12,24],[21,6,13,8,"show"],[21,10,13,12],[21,12,13,14],[21,16,13,18,"Set"],[21,19,13,21],[21,20,13,22],[22,4,14,4],[22,5,14,5],[22,6,14,6],[23,4,15,4],[23,10,15,10,"prevModalConfigs"],[23,26,15,26],[23,29,15,29],[23,30,15,30],[23,31,15,31],[23,33,15,33,"react_1"],[23,40,15,40],[23,41,15,41,"useRef"],[23,47,15,47],[23,49,15,49],[23,51,15,51],[23,52,15,52],[24,4,16,4],[24,5,16,5],[24,6,16,6],[24,8,16,8,"react_1"],[24,15,16,15],[24,16,16,16,"useEffect"],[24,25,16,25],[24,27,16,27],[24,33,16,33],[25,6,17,8],[25,10,17,12,"prevModalConfigs"],[25,26,17,28],[25,27,17,29,"current"],[25,34,17,36],[25,39,17,41,"modalConfigs"],[25,51,17,53],[25,53,17,55],[26,8,18,12,"prevModalConfigs"],[26,24,18,28],[26,25,18,29,"current"],[26,32,18,36],[26,33,18,37,"forEach"],[26,40,18,44],[26,41,18,46,"config"],[26,47,18,52],[26,51,18,57],[27,10,19,16],[27,14,19,20],[27,15,19,21,"modalConfigs"],[27,27,19,33],[27,28,19,34,"find"],[27,32,19,38],[27,33,19,40,"c"],[27,34,19,41],[27,38,19,46,"c"],[27,39,19,47],[27,40,19,48,"uniqueId"],[27,48,19,56],[27,53,19,61,"config"],[27,59,19,67],[27,60,19,68,"uniqueId"],[27,68,19,76],[27,69,19,77],[27,71,19,79],[28,12,20,20,"emitCloseEvent"],[28,26,20,34],[28,27,20,35,"config"],[28,33,20,41],[28,34,20,42,"uniqueId"],[28,42,20,50],[28,43,20,51],[29,10,21,16],[30,8,22,12],[30,9,22,13],[30,10,22,14],[31,8,23,12,"prevModalConfigs"],[31,24,23,28],[31,25,23,29,"current"],[31,32,23,36],[31,35,23,39,"modalConfigs"],[31,47,23,51],[32,6,24,8],[33,4,25,4],[33,5,25,5],[33,7,25,7],[33,8,25,8,"modalConfigs"],[33,20,25,20],[33,21,25,21],[33,22,25,22],[34,4,26,4],[34,10,26,10,"openModal"],[34,19,26,19],[34,22,26,22],[34,23,26,23],[34,24,26,24],[34,26,26,26,"react_1"],[34,33,26,33],[34,34,26,34,"useCallback"],[34,45,26,45],[34,47,26,48,"config"],[34,53,26,54],[34,57,26,59],[35,6,27,8,"setModalConfigs"],[35,21,27,23],[35,22,27,25,"prev"],[35,26,27,29],[35,30,27,34],[35,31,27,35],[35,34,27,38,"prev"],[35,38,27,42],[35,40,27,44,"config"],[35,46,27,50],[35,47,27,51],[35,48,27,52],[36,4,28,4],[36,5,28,5],[36,7,28,7],[36,9,28,9],[36,10,28,10],[37,4,29,4],[37,10,29,10,"updateModal"],[37,21,29,21],[37,24,29,24],[37,25,29,25],[37,26,29,26],[37,28,29,28,"react_1"],[37,35,29,35],[37,36,29,36,"useCallback"],[37,47,29,47],[37,49,29,49],[37,50,29,50,"id"],[37,52,29,52],[37,54,29,54,"config"],[37,60,29,60],[37,65,29,65],[38,6,30,8,"setModalConfigs"],[38,21,30,23],[38,22,30,25,"prev"],[38,26,30,29],[38,30,30,34],[39,8,31,12],[39,14,31,18,"index"],[39,19,31,23],[39,22,31,26,"prev"],[39,26,31,30],[39,27,31,31,"findIndex"],[39,36,31,40],[39,37,31,42,"c"],[39,38,31,43],[39,42,31,48,"c"],[39,43,31,49],[39,44,31,50,"uniqueId"],[39,52,31,58],[39,57,31,63,"id"],[39,59,31,65],[39,60,31,66],[40,8,32,12],[40,12,32,16,"index"],[40,17,32,21],[40,21,32,25],[40,22,32,26],[40,24,32,28],[41,10,33,16],[41,16,33,22,"updatedConfigs"],[41,30,33,36],[41,33,33,39],[41,34,33,40],[41,37,33,43,"prev"],[41,41,33,47],[41,42,33,48],[42,10,34,16,"updatedConfigs"],[42,24,34,30],[42,25,34,31,"index"],[42,30,34,36],[42,31,34,37],[42,34,34,37,"Object"],[42,40,34,37],[42,41,34,37,"assign"],[42,47,34,37],[42,52,34,45,"updatedConfigs"],[42,66,34,59],[42,67,34,60,"index"],[42,72,34,65],[42,73,34,66],[42,75,34,71,"config"],[42,81,34,77],[42,82,34,79],[43,10,35,16],[43,17,35,23,"updatedConfigs"],[43,31,35,37],[44,8,36,12],[45,8,37,12],[45,15,37,19,"prev"],[45,19,37,23],[46,6,38,8],[46,7,38,9],[46,8,38,10],[47,4,39,4],[47,5,39,5],[47,7,39,7],[47,9,39,9],[47,10,39,10],[48,4,40,4],[48,10,40,10,"emitCloseEvent"],[48,24,40,24],[48,27,40,27],[48,28,40,28],[48,29,40,29],[48,31,40,31,"react_1"],[48,38,40,38],[48,39,40,39,"useCallback"],[48,50,40,50],[48,52,40,53,"id"],[48,54,40,55],[48,58,40,60],[49,6,41,8,"eventListeners"],[49,20,41,22],[49,21,41,23,"current"],[49,28,41,30],[49,29,41,31,"close"],[49,34,41,36],[49,35,41,37,"forEach"],[49,42,41,44],[49,43,41,46,"callback"],[49,51,41,54],[49,55,41,59,"callback"],[49,63,41,67],[49,64,41,68,"id"],[49,66,41,70],[49,67,41,71],[49,68,41,72],[50,4,42,4],[50,5,42,5],[50,7,42,7],[50,9,42,9],[50,10,42,10],[51,4,43,4],[51,10,43,10,"emitShowEvent"],[51,23,43,23],[51,26,43,26],[51,27,43,27],[51,28,43,28],[51,30,43,30,"react_1"],[51,37,43,37],[51,38,43,38,"useCallback"],[51,49,43,49],[51,51,43,52,"id"],[51,53,43,54],[51,57,43,59],[52,6,44,8,"eventListeners"],[52,20,44,22],[52,21,44,23,"current"],[52,28,44,30],[52,29,44,31,"show"],[52,33,44,35],[52,34,44,36,"forEach"],[52,41,44,43],[52,42,44,45,"callback"],[52,50,44,53],[52,54,44,58,"callback"],[52,62,44,66],[52,63,44,67,"id"],[52,65,44,69],[52,66,44,70],[52,67,44,71],[53,4,45,4],[53,5,45,5],[53,7,45,7],[53,9,45,9],[53,10,45,10],[54,4,46,4],[54,10,46,10,"closeModal"],[54,20,46,20],[54,23,46,23],[54,24,46,24],[54,25,46,25],[54,27,46,27,"react_1"],[54,34,46,34],[54,35,46,35,"useCallback"],[54,46,46,46],[54,48,46,49,"id"],[54,50,46,51],[54,54,46,56],[55,6,47,8,"setModalConfigs"],[55,21,47,23],[55,22,47,25,"prev"],[55,26,47,29],[55,30,47,34],[56,8,48,12],[56,14,48,18,"modalIndex"],[56,24,48,28],[56,27,48,31,"prev"],[56,31,48,35],[56,32,48,36,"findIndex"],[56,41,48,45],[56,42,48,47,"config"],[56,48,48,53],[56,52,48,58,"config"],[56,58,48,64],[56,59,48,65,"uniqueId"],[56,67,48,73],[56,72,48,78,"id"],[56,74,48,80],[56,75,48,81],[57,8,49,12],[57,12,49,16,"modalIndex"],[57,22,49,26],[57,26,49,30],[57,27,49,31],[57,29,49,33],[58,10,50,16],[58,17,50,23,"prev"],[58,21,50,27],[58,22,50,28,"filter"],[58,28,50,34],[58,29,50,35],[58,30,50,36,"_"],[58,31,50,37],[58,33,50,39,"index"],[58,38,50,44],[58,43,50,49,"index"],[58,48,50,54],[58,51,50,57,"modalIndex"],[58,61,50,67],[58,62,50,68],[59,8,51,12],[60,8,52,12],[60,15,52,19,"prev"],[60,19,52,23],[61,6,53,8],[61,7,53,9],[61,8,53,10],[62,4,54,4],[62,5,54,5],[62,7,54,7],[62,9,54,9],[62,10,54,10],[63,4,55,4],[63,10,55,10,"addEventListener"],[63,26,55,26],[63,29,55,29],[63,30,55,30],[63,31,55,31],[63,33,55,33,"react_1"],[63,40,55,40],[63,41,55,41,"useCallback"],[63,52,55,52],[63,54,55,54],[63,55,55,55,"type"],[63,59,55,59],[63,61,55,61,"callback"],[63,69,55,69],[63,74,55,74],[64,6,56,8],[64,10,56,12],[64,11,56,13,"ALLOWED_EVENT_TYPE_LISTENERS"],[64,39,56,41],[64,40,56,42,"includes"],[64,48,56,50],[64,49,56,51,"type"],[64,53,56,55],[64,54,56,56],[64,56,57,12],[64,63,57,19],[64,69,57,25],[64,70,57,27],[64,71,57,28],[65,6,58,8],[65,10,58,12],[65,11,58,13,"callback"],[65,19,58,21],[65,21,58,23],[66,8,59,12,"console"],[66,15,59,19],[66,16,59,20,"warn"],[66,20,59,24],[66,21,59,25],[66,87,59,91],[66,88,59,92],[67,8,60,12],[67,15,60,19],[67,21,60,25],[67,22,60,27],[67,23,60,28],[68,6,61,8],[69,6,62,8,"eventListeners"],[69,20,62,22],[69,21,62,23,"current"],[69,28,62,30],[69,29,62,31,"type"],[69,33,62,35],[69,34,62,36],[69,35,62,37,"add"],[69,38,62,40],[69,39,62,41,"callback"],[69,47,62,49],[69,48,62,50],[70,6,63,8],[70,13,63,15],[70,19,63,21],[71,8,64,12,"eventListeners"],[71,22,64,26],[71,23,64,27,"current"],[71,30,64,34],[71,31,64,35,"type"],[71,35,64,39],[71,36,64,40],[71,37,64,41,"delete"],[71,43,64,47],[71,44,64,48,"callback"],[71,52,64,56],[71,53,64,57],[72,6,65,8],[72,7,65,9],[73,4,66,4],[73,5,66,5],[73,7,66,7],[73,9,66,9],[73,10,66,10],[74,4,67,4],[74,24,67,12,"_reactJsxDevRuntime"],[74,43,67,12],[74,44,67,12,"jsxDEV"],[74,50,67,12],[74,51,67,13,"ModalContext"],[74,63,67,25],[74,64,67,26,"Provider"],[74,72,67,34],[75,6,67,35,"value"],[75,11,67,40],[75,13,67,42],[76,8,68,12,"modalConfigs"],[76,20,68,24],[77,8,69,12,"openModal"],[77,17,69,21],[78,8,70,12,"closeModal"],[78,18,70,22],[79,8,71,12,"updateModal"],[79,19,71,23],[80,8,72,12,"addEventListener"],[81,6,73,8],[81,7,73,10],[82,6,73,10,"children"],[82,14,73,10],[82,29,74,6,"_reactJsxDevRuntime"],[82,48,74,6],[82,49,74,6,"jsxDEV"],[82,55,74,6],[82,56,74,7,"ModalsRenderer_1"],[82,72,74,23],[82,73,74,24,"ModalsRenderer"],[82,87,74,38],[83,8,74,39,"modalConfigs"],[83,20,74,51],[83,22,74,53,"modalConfigs"],[83,34,74,66],[84,8,74,67,"onDismissed"],[84,19,74,78],[84,21,74,81,"id"],[84,23,74,83],[84,27,74,88],[85,10,75,12,"closeModal"],[85,20,75,22],[85,21,75,23,"id"],[85,23,75,25],[85,24,75,26],[86,8,76,8],[86,9,76,10],[87,8,76,11,"onShow"],[87,14,76,17],[87,16,76,19,"emitShowEvent"],[87,29,76,33],[88,8,76,33,"children"],[88,16,76,33],[88,18,77,9,"children"],[89,6,77,17],[90,8,77,17,"fileName"],[90,16,77,17],[90,18,77,17,"_jsxFileName"],[90,30,77,17],[91,8,77,17,"lineNumber"],[91,18,77,17],[92,8,77,17,"columnNumber"],[92,20,77,17],[93,6,77,17],[93,13,78,39],[94,4,78,40],[95,6,78,40,"fileName"],[95,14,78,40],[95,16,78,40,"_jsxFileName"],[95,28,78,40],[96,6,78,40,"lineNumber"],[96,16,78,40],[97,6,78,40,"columnNumber"],[97,18,78,40],[98,4,78,40],[98,11,79,27],[98,12,79,28],[99,2,80,0],[99,3,80,1],[100,2,81,0,"exports"],[100,9,81,7],[100,10,81,8,"ModalContextProvider"],[100,30,81,28],[100,33,81,31,"ModalContextProvider"],[100,53,81,51],[101,2,82,0],[101,8,82,6,"useModalContext"],[101,23,82,21],[101,26,82,24,"useModalContext"],[101,27,82,24],[101,32,82,30],[102,4,83,4],[102,10,83,10,"context"],[102,17,83,17],[102,20,83,20],[102,21,83,21],[102,22,83,22],[102,24,83,24,"react_1"],[102,31,83,31],[102,32,83,32,"use"],[102,35,83,35],[102,37,83,37,"ModalContext"],[102,49,83,49],[102,50,83,50],[103,4,84,4],[103,8,84,8],[103,9,84,9,"context"],[103,16,84,16],[103,18,84,18],[104,6,85,8],[104,12,85,14],[104,16,85,18,"Error"],[104,21,85,23],[104,22,85,24],[104,82,85,84],[104,83,85,85],[105,4,86,4],[106,4,87,4],[106,11,87,11,"context"],[106,18,87,18],[107,2,88,0],[107,3,88,1],[108,2,89,0,"exports"],[108,9,89,7],[108,10,89,8,"useModalContext"],[108,25,89,23],[108,28,89,26,"useModalContext"],[108,43,89,41],[109,0,89,42],[109,3]],"functionMap":{"names":["<global>","ModalContextProvider","<anonymous>","prevModalConfigs.current.forEach$argument_0","modalConfigs.find$argument_0","setModalConfigs$argument_0","prev.findIndex$argument_0","eventListeners.current.close.forEach$argument_0","eventListeners.current.show.forEach$argument_0","prev.filter$argument_0","ModalsRenderer_1.ModalsRenderer.props.onDismissed","useModalContext"],"mappings":"AAA;6BCQ;2BCO;6CCE;uCCC,qCD;aDG;KDG;+CCC;wBGC,2BH;KDC;iDCC;wBGC;yCCC,wBD;SHO;KDC;oDCC;6CKC,0BL;KDC;mDCC;4CMC,0BN;KDC;gDCC;wBGC;8CCC,kCD;mCIE,gCJ;SHG;KDC;sDCC;KDW;gFSQ;STE;CDI;wBWE;CXM"},"hasCjsExports":true},"type":"js/module"}]}